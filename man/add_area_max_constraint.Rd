% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_area_constraints.R
\name{add_area_max_constraint}
\alias{add_area_max_constraint}
\title{Add maximum selected area constraint}
\usage{
add_area_max_constraint(
  x,
  area_max,
  area_col = NULL,
  area_unit = c("m2", "ha", "km2"),
  name = "area_max"
)
}
\arguments{
\item{x}{A \code{Data} object.}

\item{area_max}{Numeric scalar \eqn{\ge 0}. Maximum area to select (expressed in \code{area_unit}).}

\item{area_col}{Optional character. Name of the column in \code{x$data$pu} containing areas.
If \code{NULL}, areas are obtained using internal defaults (see Details).}

\item{area_unit}{Character. Units for \code{area_max}. One of \code{"m2"}, \code{"ha"}, or \code{"km2"}.}

\item{name}{Character. Name for the constraint in the model. Default \code{"area_max"}.}
}
\value{
The updated \code{Data} object with the new linear constraint added to the model
and metadata stored in \code{x$data$constraints$area_max}.
}
\description{
Add a linear constraint enforcing a maximum total selected area using only planning unit
selection variables \eqn{w_i}:
\deqn{\sum_i \mathrm{area}_i \, w_i \le A_{\max}.}
}
\details{
This function adds a linear constraint to the current optimization model snapshot.
Areas are retrieved from the planning unit table (\code{x$data$pu}) via \code{area_col}
or via the package defaults implemented in \code{.pa_get_area_vec()}, and are converted
to the requested \code{area_unit}. The coefficient vector is aligned with the model's
planning unit order (\code{n_pu} and the internal \eqn{w} variable offset stored in
\code{x$data$model_list}).

Constraint metadata is also stored in \code{x$data$constraints$area_max} for printing/reporting.
}
\examples{
\dontrun{
# Enforce selecting at most 500 km2
p <- add_area_max_constraint(p, area_max = 500, area_unit = "km2")

# Use a custom area column stored in x$data$pu$area_m2
p <- add_area_max_constraint(p, area_max = 2e6, area_unit = "m2", area_col = "area_m2")
}

}
\seealso{
\code{\link{add_area_min_constraint}}
}
