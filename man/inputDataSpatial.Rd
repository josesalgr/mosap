% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/inputDataSpatial.R
\name{inputDataSpatial}
\alias{inputDataSpatial}
\title{Create a planning problem from spatial inputs}
\usage{
inputDataSpatial(
  pu,
  features,
  cost,
  pu_id_col = "id",
  locked_in_col = "locked_in",
  locked_out_col = "locked_out",
  pu_status = NULL,
  cost_aggregation = c("mean", "sum"),
  boundary = "auto",
  ...
)
}
\arguments{
\item{pu}{Planning units as either:
\itemize{
\item a file path to a raster (e.g. GeoTIFF) where cell values are PU ids,
\item a \code{terra::SpatRaster} with PU ids,
\item a file path to a vector layer (e.g. \code{.shp}, \code{.gpkg}),
\item a \code{terra::SpatVector} or \code{sf} object with a column of PU ids.
}}

\item{features}{A raster (or file path) with one layer per feature. Values are
interpreted as \emph{amount} per cell. Layer names are used as feature names.}

\item{cost}{Either:
\itemize{
\item a column name in \code{pu} (when \code{pu} is a vector), or
\item a raster (or file path) providing cost per cell (when \code{pu} is a raster
or when \code{pu} lacks a cost column).
}}

\item{pu_id_col}{When \code{pu} is a vector layer, name of the column containing
planning unit ids.}

\item{locked_in_col, locked_out_col}{Column names in \code{pu} (vector) with
logical lock flags. If missing, defaults to FALSE.}

\item{pu_status}{Optional. Either a column name (when \code{pu} is a vector) or a
raster (or file path) with values {0,2,3} meaning available, locked-in, locked-out.
This is converted to \code{locked_in}/\code{locked_out}. If both column locks and
\code{pu_status} are provided, column locks take precedence.}

\item{cost_aggregation}{Aggregation used to compute PU-level cost from a cost raster
(default: mean).}

\item{boundary}{Either \code{NULL}, a \code{data.frame} with columns \code{id1}, \code{id2},
\code{boundary}, or the string \code{"auto"} to derive adjacency-based boundaries from
polygon planning units (boundary weight is set to 1 for touching PU pairs).}

\item{...}{Passed to \code{\link[=inputData]{inputData()}}.}
}
\value{
An object created by \code{\link[=inputData]{inputData()}}.
}
\description{
Convert common spatial inputs (rasters and vector layers such as Shapefiles or
GeoPackages) into the tabular inputs required by \code{\link[=inputData]{inputData()}}.

This function only builds the \emph{base} planning problem: planning units (pu),
features, dist_features, and optionally boundary. Actions and action-benefits
are added later via \code{\link[=add_actions]{add_actions()}} and \code{\link[=add_action_benefit]{add_action_benefit()}}.

Spatial backends are \strong{optional} (the package does not import them by default).
To use this function you need:
\itemize{
\item \code{terra} for reading rasters/vectors and extracting raster values.
\item \code{sf} only if you ask to automatically derive the \code{boundary} table.
}
}
\keyword{internal}
