% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_effects.R
\name{add_losses}
\alias{add_losses}
\title{Add losses (negative effects magnitude)}
\usage{
add_losses(
  x,
  losses = NULL,
  ...,
  effect_type = c("delta", "after"),
  effect_aggregation = c("sum", "mean"),
  align_rasters = TRUE,
  keep_zero = FALSE,
  drop_locked_out = TRUE,
  na_to_zero = TRUE
)
}
\arguments{
\item{x}{A \code{Data} object created with \code{\link{inputData}} or \code{\link{inputDataSpatial}}.
Must contain \code{x$data$dist_actions} (run \code{\link{add_actions}} first).}

\item{effect_type}{Character. How to interpret provided values for explicit tables or raster lists:
\itemize{
\item \code{"delta"}: values represent signed deltas (default),
\item \code{"after"}: values represent after-action amounts (converted to deltas using baseline).
}}

\item{effect_aggregation}{Character. Aggregation used to compute PU-level values from rasters.
One of \code{"sum"} or \code{"mean"}.}

\item{align_rasters}{Logical. If \code{TRUE}, attempt to align effect rasters to the PU raster grid
before zonal operations (default \code{TRUE}).}

\item{keep_zero}{Logical. If \code{TRUE}, keep rows where \code{benefit == 0} and \code{loss == 0}.
Default \code{FALSE}.}

\item{drop_locked_out}{Logical. If \code{TRUE}, drop rows for \code{(pu, action)} pairs with
\code{status == 3} in \code{x$data$dist_actions} (if the column exists). Default \code{TRUE}.}

\item{na_to_zero}{Logical. If \code{TRUE}, treat missing values as 0 when computing benefit/loss.
Default \code{TRUE}.}
}
\value{
The updated \code{Data} object.
}
\description{
Convenience wrapper around \code{\link{add_effects}} that keeps only rows with
\code{loss > 0} (i.e., the magnitude of negative changes). Also writes
\code{x$data$dist_loss} containing only the loss component.
}
