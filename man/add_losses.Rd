% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_effects.R
\name{add_losses}
\alias{add_losses}
\title{Add losses (negative effects magnitude)}
\usage{
add_losses(
  x,
  losses = NULL,
  ...,
  effect_type = c("delta", "after"),
  effect_aggregation = c("sum", "mean"),
  align_rasters = TRUE,
  keep_zero = FALSE,
  drop_locked_out = TRUE,
  na_to_zero = TRUE
)
}
\arguments{
\item{x}{A \linkS4class{data} object created with \code{\link[=inputData]{inputData()}} or \code{\link[=inputDataSpatial]{inputDataSpatial()}}.}

\item{effect_type}{character. Interpretation of provided values when \code{effects} is an
explicit table or a list of rasters:
\itemize{
\item "delta" (default): values represent signed deltas.
\item "after": values represent after-action amounts (converted to deltas).
}}

\item{effect_aggregation}{Aggregation used to compute PU-level values from rasters
(default: "sum").}

\item{align_rasters}{Logical. If TRUE, attempt to align effect rasters to the PU raster
grid before zonal operations (default TRUE).}

\item{keep_zero}{Logical. Keep rows with \code{benefit==0 AND loss==0}? Default FALSE (drops them).}

\item{drop_locked_out}{Logical. If TRUE, drop rows for (pu, action) with status == 3 in dist_actions.}

\item{na_to_zero}{Logical. If TRUE, treat missing values as 0.}
}
\value{
Updated \linkS4class{data} object.
}
\description{
Convenience wrapper around \code{\link[=add_effects]{add_effects()}} that keeps only rows with \code{loss > 0}.
Also writes \code{x$data$dist_loss} with column \code{loss}.
}
